<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Lunch - Settings</title>
    <link rel="stylesheet" href="basecoat.min.css" />
    <link rel="stylesheet" href="app.css" />
    <link rel="stylesheet" href="fonts/fontawesome.min.css" />
    <script src="js/alpine.min.js" defer></script>
    <script src="js/basecoat/basecoat.min.js" defer></script>
    <script src="js/app.js" defer></script>
  </head>
  <body class="app-container">
    <div class="main-content" id="main-content">
      <div x-data="settingsView()">
        <h1 class="text-2xl font-bold text-center mb-6">Settings</h1>

        <div class="card mb-4">
          <div class="p-4">
            <div class="flex items-center gap-3">
              <i class="fas fa-palette" style="font-size: 1.25rem"></i>
              <label class="flex items-center gap-3">
                <input
                  type="checkbox"
                  role="switch"
                  x-model="useSystemTheme"
                  @change="setSystemTheme(useSystemTheme)"
                />
                Match system theme
              </label>
            </div>
            <p class="text-sm text-muted mt-2">
              When enabled, follows your device's appearance setting. When disabled, use the icon in
              the top-right to toggle manually.
            </p>
          </div>
        </div>

        <div class="card">
          <div class="p-4">
            <h3 class="font-semibold">About</h3>
            <p>Lunch - Restaurant Selector</p>
            <p class="text-sm text-muted" x-text="'Version ' + version"></p>
            <p class="text-sm text-muted mt-2">Built with Alpine.js + Tauri</p>
          </div>
        </div>
      </div>
    </div>

    <nav class="bottom-nav">
      <a href="index.html" class="nav-item" id="nav-home">
        <i class="fas fa-home"></i>
        <span>Home</span>
      </a>
      <a href="add.html" class="nav-item" id="nav-add">
        <i class="fas fa-plus"></i>
        <span>Add</span>
      </a>
      <a href="list.html" class="nav-item" id="nav-list">
        <i class="fas fa-list"></i>
        <span>List</span>
      </a>
      <a href="settings.html" class="nav-item" id="nav-settings">
        <i class="fas fa-cog"></i>
        <span>Settings</span>
      </a>
    </nav>

    <script>
      function settingsView() {
        return {
          useSystemTheme: localStorage.getItem('useSystemTheme') !== 'false',
          version: '...',
          async init() {
            this.version = await window.__TAURI__.app.getVersion();
          },
        };
      }
    </script>
  </body>
</html>
